# åŠ›æ‰£ç¬¬254åœºå‘¨èµ›
## é¢˜ä¸€ [ä½œä¸ºå­å­—ç¬¦ä¸²å‡ºç°åœ¨å•è¯ä¸­çš„å­—ç¬¦ä¸²æ•°ç›®](https://leetcode-cn.com/problems/number-of-strings-that-appear-as-substrings-in-word/)

### æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ patterns å’Œä¸€ä¸ªå­—ç¬¦ä¸² word ï¼Œç»Ÿè®¡ patterns ä¸­æœ‰å¤šå°‘ä¸ªå­—ç¬¦ä¸²æ˜¯ word çš„å­å­—ç¬¦ä¸²ã€‚è¿”å›å­—ç¬¦ä¸²æ•°ç›®ã€‚

å­å­—ç¬¦ä¸² æ˜¯å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªè¿ç»­å­—ç¬¦åºåˆ—ã€‚

 ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼špatterns = ["a","abc","bc","d"], word = "abc"
è¾“å‡ºï¼š3
è§£é‡Šï¼š
- "a" æ˜¯ "abc" çš„å­å­—ç¬¦ä¸²ã€‚
- "abc" æ˜¯ "abc" çš„å­å­—ç¬¦ä¸²ã€‚
- "bc" æ˜¯ "abc" çš„å­å­—ç¬¦ä¸²ã€‚
- "d" ä¸æ˜¯ "abc" çš„å­å­—ç¬¦ä¸²ã€‚
patterns ä¸­æœ‰ 3 ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå­å­—ç¬¦ä¸²å‡ºç°åœ¨ word ä¸­ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼špatterns = ["a","b","c"], word = "aaaaabbbbb"
è¾“å‡ºï¼š2
è§£é‡Šï¼š
- "a" æ˜¯ "aaaaabbbbb" çš„å­å­—ç¬¦ä¸²ã€‚
- "b" æ˜¯ "aaaaabbbbb" çš„å­å­—ç¬¦ä¸²ã€‚
- "c" ä¸æ˜¯ "aaaaabbbbb" çš„å­—ç¬¦ä¸²ã€‚
patterns ä¸­æœ‰ 2 ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå­å­—ç¬¦ä¸²å‡ºç°åœ¨ word ä¸­ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼špatterns = ["a","a","a"], word = "ab"
è¾“å‡ºï¼š3
è§£é‡Šï¼špatterns ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²éƒ½ä½œä¸ºå­å­—ç¬¦ä¸²å‡ºç°åœ¨ word "ab" ä¸­ã€‚


æç¤ºï¼š

1 <= patterns.length <= 100
1 <= patterns[i].length <= 100
1 <= word.length <= 100
patterns[i] å’Œ word ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

### æ€è·¯

ç›´æ¥éå†åˆ¤æ–­ã€‚

### ä»£ç 

```java
/**
 * @author mikusugar
 */
public class N1 {
    public int numOfStrings(String[] patterns, String word) {
        int res = 0;
        for (String str : patterns) {
            if (word.contains(str)) res++;
        }
        return res;
    }
}
```

## é¢˜äºŒ [æ„é€ å…ƒç´ ä¸ç­‰äºä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼çš„æ•°ç»„](https://leetcode-cn.com/problems/array-with-elements-not-equal-to-average-of-neighbors/)

### æè¿°

ç»™ä½ ä¸€ä¸ª ä¸‹æ ‡ä» 0 å¼€å§‹ çš„æ•°ç»„ nums ï¼Œæ•°ç»„ç”±è‹¥å¹² äº’ä¸ç›¸åŒçš„ æ•´æ•°ç»„æˆã€‚ä½ æ‰“ç®—é‡æ–°æ’åˆ—æ•°ç»„ä¸­çš„å…ƒç´ ä»¥æ»¡è¶³ï¼šé‡æ’åï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ ä¸ç­‰äº å…¶ä¸¤ä¾§ç›¸é‚»å…ƒç´ çš„ å¹³å‡å€¼ ã€‚

æ›´å…¬å¼åŒ–çš„è¯´æ³•æ˜¯ï¼Œé‡æ–°æ’åˆ—çš„æ•°ç»„åº”å½“æ»¡è¶³è¿™ä¸€å±æ€§ï¼šå¯¹äºèŒƒå›´ 1 <= i < nums.length - 1 ä¸­çš„æ¯ä¸ª i ï¼Œ(nums[i-1] + nums[i+1]) / 2 ä¸ç­‰äº nums[i] å‡æˆç«‹ ã€‚

è¿”å›æ»¡è¶³é¢˜æ„çš„ä»»ä¸€é‡æ’ç»“æœã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [1,2,3,4,5]
è¾“å‡ºï¼š[1,2,4,5,3]
è§£é‡Šï¼š
i=1, nums[i] = 2, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (1+4) / 2 = 2.5
i=2, nums[i] = 4, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (2+5) / 2 = 3.5
i=3, nums[i] = 5, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (4+3) / 2 = 3.5
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [6,2,0,9,7]
è¾“å‡ºï¼š[9,7,6,2,0]
è§£é‡Šï¼š
i=1, nums[i] = 7, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (9+6) / 2 = 7.5
i=2, nums[i] = 6, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (7+2) / 2 = 4.5
i=3, nums[i] = 2, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (6+0) / 2 = 3

### æ€è·¯

> ä¹±æè¿‡äº†ï¼Œæ„Ÿè§‰æœ‰é—®é¢˜

### ä»£ç 

```java

/**
 * @author mikusugar
 */
public class N2 {

    public int[] rearrangeArray(int[] nums) {
        for (int i=1;i<nums.length-1;i++){
            if(check(i,nums))continue;
            for (int k= nums.length-1;k>=i+1;k--){
                swap(i,k,nums);
                if(check(i,nums)&&check(i-1,nums))break;
                swap(i,k,nums);
            }
            if(check(i,nums))continue;
            for (int k=0;k<=i-1;k++){
                swap(k,i,nums);
                if(check(k-1,nums)&&check(k,nums)&&check(k+1,nums)&&check(i,nums)&&check(i-1,nums))break;
                swap(k,i,nums);
            }
        }
        return nums;
    }

    private void swap(int i,int j,int[] nums){
        int tar= nums[i];
        nums[i]=nums[j];
        nums[j]=tar;
    }
    private boolean check(int i, int[] nums) {
        if(i<=0||i>= nums.length-1)return true;
        return nums[i]*1.0!=(nums[i-1]+nums[i+1])/2.0;
    }
}
```

## é¢˜ä¸‰ [æ•°ç»„å…ƒç´ çš„æœ€å°éé›¶ä¹˜ç§¯](https://leetcode-cn.com/problems/minimum-non-zero-product-of-the-array-elements/)

### æè¿°

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° p ã€‚ä½ æœ‰ä¸€ä¸ªä¸‹æ ‡ä» 1 å¼€å§‹çš„æ•°ç»„ nums ï¼Œè¿™ä¸ªæ•°ç»„åŒ…å«èŒƒå›´ [1, 2p - 1] å†…æ‰€æœ‰æ•´æ•°çš„äºŒè¿›åˆ¶å½¢å¼ï¼ˆä¸¤ç«¯éƒ½ åŒ…å«ï¼‰ã€‚ä½ å¯ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œ ä»»æ„ æ¬¡ï¼š

ä» nums ä¸­é€‰æ‹©ä¸¤ä¸ªå…ƒç´  x å’Œ y  ã€‚
é€‰æ‹© x ä¸­çš„ä¸€ä½ä¸ y å¯¹åº”ä½ç½®çš„ä½äº¤æ¢ã€‚å¯¹åº”ä½ç½®æŒ‡çš„æ˜¯ä¸¤ä¸ªæ•´æ•° ç›¸åŒä½ç½® çš„äºŒè¿›åˆ¶ä½ã€‚
æ¯”æ–¹è¯´ï¼Œå¦‚æœ x = 1101 ä¸” y = 0011 ï¼Œäº¤æ¢å³è¾¹æ•°èµ·ç¬¬ 2 ä½åï¼Œæˆ‘ä»¬å¾—åˆ° x = 1111 å’Œ y = 0001 ã€‚

è¯·ä½ ç®—å‡ºè¿›è¡Œä»¥ä¸Šæ“ä½œ ä»»æ„æ¬¡ ä»¥åï¼Œnums èƒ½å¾—åˆ°çš„ æœ€å°éé›¶ ä¹˜ç§¯ã€‚å°†ä¹˜ç§¯å¯¹ 109 + 7 å–ä½™ åè¿”å›ã€‚

æ³¨æ„ï¼šç­”æ¡ˆåº”ä¸ºå–ä½™ ä¹‹å‰ çš„æœ€å°å€¼ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šp = 1
è¾“å‡ºï¼š1
è§£é‡Šï¼šnums = [1] ã€‚
åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥ä¹˜ç§¯ä¸ºè¯¥å…ƒç´ ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šp = 2
è¾“å‡ºï¼š6
è§£é‡Šï¼šnums = [01, 10, 11] ã€‚
æ‰€æœ‰äº¤æ¢è¦ä¹ˆä½¿ä¹˜ç§¯å˜ä¸º 0 ï¼Œè¦ä¹ˆä¹˜ç§¯ä¸åˆå§‹ä¹˜ç§¯ç›¸åŒã€‚
æ‰€ä»¥ï¼Œæ•°ç»„ä¹˜ç§¯ 1 * 2 * 3 = 6 å·²ç»æ˜¯æœ€å°å€¼ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šp = 3
è¾“å‡ºï¼š1512
è§£é‡Šï¼šnums = [001, 010, 011, 100, 101, 110, 111]
- ç¬¬ä¸€æ¬¡æ“ä½œä¸­ï¼Œæˆ‘ä»¬äº¤æ¢ç¬¬äºŒä¸ªå’Œç¬¬äº”ä¸ªå…ƒç´ æœ€å·¦è¾¹çš„æ•°ä½ã€‚
    - ç»“æœæ•°ç»„ä¸º [001, 110, 011, 100, 001, 110, 111] ã€‚
- ç¬¬äºŒæ¬¡æ“ä½œä¸­ï¼Œæˆ‘ä»¬äº¤æ¢ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªå…ƒç´ ä¸­é—´çš„æ•°ä½ã€‚
    - ç»“æœæ•°ç»„ä¸º [001, 110, 001, 110, 001, 110, 111] ã€‚
    æ•°ç»„ä¹˜ç§¯ 1 * 6 * 1 * 6 * 1 * 6 * 7 = 1512 æ˜¯æœ€å°ä¹˜ç§¯ã€‚


æç¤ºï¼š

1 <= p <= 60

### æ€è·¯

æœ€åä¸€ä¸ªæ•°ä¸å˜ï¼ŒæŠŠå‰©ä¸‹çš„æ•°ä¸€åŠå˜æˆ1ï¼Œä¸€åŠå˜æˆ11...110

> ä¸çŸ¥é“æ€ä¹ˆè¯æ˜ã€‚ã€‚ã€‚ç›´è§‰ã€‚

å…·ä½“æ±‚è§£ç”¨å¿«é€Ÿå†¥ã€‚

> æ³¨æ„æº¢å‡º

### ä»£ç 

```java
/**
 * @author mikusugar
 */
public class N3 {
    
    private final static int MOD = (int) (1e9 + 7);

    public int minNonZeroProduct(int p) {

        long res = fastPow(2, p, MOD) - 1;
        long res1 = fastPow(fastPow(2, p, MOD) - 2, (fastPow(2, p) - 2) / 2, MOD);
        return (int) (res * res1 % MOD);

    }

    private long fastPow(long a, long b) {
        if (b == 0) return 1;
        long res = fastPow(a, b / 2);
        if (b % 2 == 1) return res * res * a;
        return res * res;
    }

    private long fastPow(long a, long b, long m) {
        if (b == 0) return 1;
        long res = fastPow(a, b / 2, m) % m;
        if (b % 2 == 1) return res * res % m * a % m;
        return res * res % m;
    }
}
```



##  é¢˜å›› [ä½ èƒ½ç©¿è¿‡çŸ©é˜µçš„æœ€åä¸€å¤©](https://leetcode-cn.com/problems/last-day-where-you-can-still-cross/)

### æè¿°

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 1 å¼€å§‹çš„äºŒè¿›åˆ¶çŸ©é˜µï¼Œå…¶ä¸­ 0 è¡¨ç¤ºé™†åœ°ï¼Œ1 è¡¨ç¤ºæ°´åŸŸã€‚åŒæ—¶ç»™ä½  row å’Œ col åˆ†åˆ«è¡¨ç¤ºçŸ©é˜µä¸­è¡Œå’Œåˆ—çš„æ•°ç›®ã€‚

ä¸€å¼€å§‹åœ¨ç¬¬ 0 å¤©ï¼Œæ•´ä¸ª çŸ©é˜µéƒ½æ˜¯ é™†åœ° ã€‚ä½†æ¯ä¸€å¤©éƒ½ä¼šæœ‰ä¸€å—æ–°é™†åœ°è¢« æ°´ æ·¹æ²¡å˜æˆæ°´åŸŸã€‚ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 1 å¼€å§‹çš„äºŒç»´æ•°ç»„ cells ï¼Œå…¶ä¸­ cells[i] = [ri, ci] è¡¨ç¤ºåœ¨ç¬¬ i å¤©ï¼Œç¬¬ ri è¡Œ ci åˆ—ï¼ˆä¸‹æ ‡éƒ½æ˜¯ä» 1 å¼€å§‹ï¼‰çš„é™†åœ°ä¼šå˜æˆ æ°´åŸŸ ï¼ˆä¹Ÿå°±æ˜¯ 0 å˜æˆ 1 ï¼‰ã€‚

ä½ æƒ³çŸ¥é“ä»çŸ©é˜µæœ€ ä¸Šé¢ ä¸€è¡Œèµ°åˆ°æœ€ ä¸‹é¢ ä¸€è¡Œï¼Œä¸”åªç»è¿‡é™†åœ°æ ¼å­çš„ æœ€åä¸€å¤© æ˜¯å“ªä¸€å¤©ã€‚ä½ å¯ä»¥ä»æœ€ä¸Šé¢ä¸€è¡Œçš„ ä»»æ„ æ ¼å­å‡ºå‘ï¼Œåˆ°è¾¾æœ€ä¸‹é¢ä¸€è¡Œçš„ ä»»æ„ æ ¼å­ã€‚ä½ åªèƒ½æ²¿ç€ å››ä¸ª åŸºæœ¬æ–¹å‘ç§»åŠ¨ï¼ˆä¹Ÿå°±æ˜¯ä¸Šä¸‹å·¦å³ï¼‰ã€‚

è¯·è¿”å›åªç»è¿‡é™†åœ°æ ¼å­èƒ½ä»æœ€ ä¸Šé¢ ä¸€è¡Œèµ°åˆ°æœ€ ä¸‹é¢ ä¸€è¡Œçš„ æœ€åä¸€å¤© ã€‚

 

ç¤ºä¾‹ 1ï¼š


è¾“å…¥ï¼šrow = 2, col = 2, cells = [[1,1],[2,1],[1,2],[2,2]]
è¾“å‡ºï¼š2
è§£é‡Šï¼šä¸Šå›¾æè¿°äº†çŸ©é˜µä»ç¬¬ 0 å¤©å¼€å§‹æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚
å¯ä»¥ä»æœ€ä¸Šé¢ä¸€è¡Œåˆ°æœ€ä¸‹é¢ä¸€è¡Œçš„æœ€åä¸€å¤©æ˜¯ç¬¬ 2 å¤©ã€‚
ç¤ºä¾‹ 2ï¼š


è¾“å…¥ï¼šrow = 2, col = 2, cells = [[1,1],[1,2],[2,1],[2,2]]
è¾“å‡ºï¼š1
è§£é‡Šï¼šä¸Šå›¾æè¿°äº†çŸ©é˜µä»ç¬¬ 0 å¤©å¼€å§‹æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚
å¯ä»¥ä»æœ€ä¸Šé¢ä¸€è¡Œåˆ°æœ€ä¸‹é¢ä¸€è¡Œçš„æœ€åä¸€å¤©æ˜¯ç¬¬ 1 å¤©ã€‚
ç¤ºä¾‹ 3ï¼š


è¾“å…¥ï¼šrow = 3, col = 3, cells = [[1,2],[2,1],[3,3],[2,2],[1,1],[1,3],[2,3],[3,2],[3,1]]
è¾“å‡ºï¼š3
è§£é‡Šï¼šä¸Šå›¾æè¿°äº†çŸ©é˜µä»ç¬¬ 0 å¤©å¼€å§‹æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚
å¯ä»¥ä»æœ€ä¸Šé¢ä¸€è¡Œåˆ°æœ€ä¸‹é¢ä¸€è¡Œçš„æœ€åä¸€å¤©æ˜¯ç¬¬ 3 å¤©ã€‚


æç¤ºï¼š

2 <= row, col <= 2 * 10^4
4 <= row * col <= 2 * 10^4
cells.length == row * col
1 <= ri <= row
1 <= ci <= col
cells ä¸­çš„æ‰€æœ‰æ ¼å­åæ ‡éƒ½æ˜¯ å”¯ä¸€ çš„ã€‚

### æ€è·¯

ä¸€å¼€å§‹çš„æ€è·¯æ˜¯ åŠ¨æ€è§„åˆ’ï¼Œæƒ³é”™äº†ğŸ™…â€â™‚ï¸ï¼Œæ¨ä¸å‡ºå…¬å¼æ¥ã€‚

> é¢˜ç›®æ„æ€ä¹Ÿç†è§£é”™äº†ï¼Œæˆ‘ä¸€å¼€å§‹ä»¥ä¸ºç§»åŠ¨ä¸€æ¬¡è¦ä¸€å¤©ã€‚ã€‚ã€‚

**æ­£ç¡®æ€è·¯ï¼š**

äºŒåˆ†+BFS

> ä»¥åçœ‹åˆ°è¿™ç§æ±‚æœ€å€¼çš„é—®é¢˜è¦æƒ³æƒ³äºŒåˆ†èƒ½ä¸èƒ½ç”¨ã€‚

### ä»£ç 

```java
/**
 * @author mikusugar
 */
public class N4 {

    public int latestDayToCross(int row, int col, int[][] cells) {
        int[][] book = new int[row + 2][col + 2];
        for (int i = 0; i < cells.length; i++) {
            book[cells[i][0]][cells[i][1]] = i + 1;
        }

        int left = 0, right = cells.length - 1;
        int res = 0;

        while (left <= right) {
            int day = (left + right) / 2;
            if (check(day, book, row, col)) {
                left = day + 1;
                res = day;
            } else right = day - 1;
        }
        return res;
    }

    private boolean check(int day, int[][] book, int row, int col) {
        Queue<int[]> queue = new ArrayDeque<>();

        boolean[][] been = new boolean[book.length][book[0].length];
        for (int i = 1; i <= col; i++) {
            if (book[1][i] <= day) continue;
            queue.add(new int[]{1, i});
            been[1][i]=true;
        }

        while (!queue.isEmpty()) {
            final int[] cur = queue.poll();
            if (cur[0] == row) return true;
            for (int[] next : NEXTS) {
                int i = cur[0] + next[0];
                int j = cur[1] + next[1];
                if (i < 1 || i > row || j < 1 || j > col || day >= book[i][j] || been[i][j])
                    continue;
                been[i][j]=true;
                queue.add(new int[]{i, j});
            }
        }

        return false;
    }

    private final static int[][] NEXTS = {{-1, 0}, {0, -1}, {0, 1}, {1, 0}};

}
```

